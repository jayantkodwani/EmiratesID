<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">   
     
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
             }         
      .container {
      background-color: #eeeeee;
      border-radius: 8px;
      padding: 30px 40px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      max-width: 1200px;
      text-align: center;
                  }
         
        #loader {
            display: none;
            border: 8px solid #f3f3f3;
            border-top: 8px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #d0e8ff;
        }

        h3 {
            margin-top: 30px;
        }
    </style>
</head>

     <header style="display: flex; align-items: center; margin-bottom: 20px;background-color: #d0e8ff;">
        <img src="{{ url_for('static', filename='AcePerfect.jpg') }}" alt="Logo" style="height: 110px; margin-right: 15px;">
        <h2>AcePerfect OCR Capability</h2>
    </header>
    
<body>

     <div class="container">
    <p> <strong>AcePerfect Data Technologies</strong> has successfully harnessed advanced OCR (Optical Character Recognition) capabilities to automate the scanning and data extraction process from UAE Emirates ID cards with high accuracy and compliance. Leveraging AI-powered document intelligence, our solution reads and digitizes both the front and back of the Emirates IDâ€”capturing key details such as name, nationality, ID number, and expiry date in real time. This has streamlined KYC processes for clients across banking, telecom, and government sectors, reducing manual effort and turnaround time by over 80%, while ensuring data security and UAE regulatory alignment.</p>
 </div>
<br><br>
    <h2>Upload Emirates ID (Image or PDF)</h2>
    <form id="upload-form" enctype="multipart/form-data">
        <input type="file" name="image" accept="image/*,application/pdf" required />
        <button type="submit">Scan</button>
    </form>

    <div id="loader"></div>

    <div id="result"></div>

    <script>
        document.getElementById('upload-form').onsubmit = async (e) => {
            e.preventDefault();

            const loader = document.getElementById('loader');
            const result = document.getElementById('result');
            const formData = new FormData(e.target);

            loader.style.display = 'block';
            result.innerHTML = '';

            try {
                const res = await fetch('/upload', {
                    method: 'POST',
                    body: formData
                });

                const data = await res.json();
                if (data.error) {
                    result.innerHTML = `<p style="color:red;">Error: ${data.error}</p>`;
                } else {
                    result.innerHTML = '';

                    for (const section of Object.keys(data).reverse()) {
                        const sectionData = data[section];
                        const table = document.createElement('table');
                        const caption = document.createElement('h3');
                        caption.textContent = section.replace(/_/g, ' ');
                        result.appendChild(caption);
                        const headerRow = document.createElement('tr');
                        const th1 = document.createElement('th');
                        th1.textContent = 'Field';
                        th1.style.backgroundColor = '#3498db';
                        const th2 = document.createElement('th');
                        th2.textContent = 'Value';
                        th2.style.backgroundColor = '#3498db';
                        headerRow.appendChild(th1);
                        headerRow.appendChild(th2);
                        table.appendChild(headerRow);

                        
                        for (const key of Object.keys(sectionData).reverse()) {
                            const row = document.createElement('tr');
                            const field = document.createElement('td');
                            field.textContent = key;
                            const value = document.createElement('td');
                            value.textContent = sectionData[key];
                            row.appendChild(field);
                            row.appendChild(value);
                            table.appendChild(row);
                        }

                        result.appendChild(table);
                    }
                }
            } catch (err) {
                result.innerHTML = `<p style="color:red;">Error: ${err.message}</p>`;
            } finally {
                loader.style.display = 'none';
            }
        };
    </script>
</body>
</html>
